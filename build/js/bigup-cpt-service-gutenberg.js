(()=>{var e={980:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(196),a=r(736),n=r(697),o=r.n(n),l=r(333),s=r(818),p=r(67),c=r(609),u=r(175),d=r(767);const{prefix:m,key:g,customFields:_}=d;console.log("bigup-cpt-service-metabox PLUGIN LOADED");const b=({postType:e,metaFields:t,setMetaFields:r})=>{if(e!==g)return null;let n=[];return _.forEach((e=>{const i=m+g+e.suffix,a=t[i]||"",o=e.input_type;n.push({metaKey:i,value:a,updateValue:e=>r({[i]:e}),label:e.label,description:e.description,type:o,placeholder:e?.placeholder||"",required:e?.required||"",maxlength:e?.length_limit||"",media:"image-upload"===o&&(0,s.useSelect)((e=>e("core").getMedia(a)))})})),(0,i.createElement)(i.Fragment,null,n.map((e=>(0,i.createElement)(p.PluginDocumentSettingPanel,{key:e.metaKey,name:e.metaKey+"-panel",title:e.label,initialOpen:!0},"number"===e.type&&(0,i.createElement)(c.PanelRow,null,(0,i.createElement)(c.TextControl,{label:e.description,value:e.value,onChange:e.updateValue,type:e.type,placeholder:e.placeholder,required:e.required,maxLength:e.maxlength})),"image-upload"===e.type&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(c.PanelRow,null,(0,i.createElement)(u.MediaUploadCheck,null,(0,i.createElement)(u.MediaUpload,{onSelect:t=>e.updateValue(t.id),value:e.value,allowedTypes:["image"],render:({open:t})=>(0,i.createElement)(c.Button,{className:e.value?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:t},!e.value&&(0,a.__)("Set an icon","bigup-cpt-service"),void 0!==e.media&&(0,i.createElement)(c.ResponsiveWrapper,{naturalWidth:e.media.media_details.width,naturalHeight:e.media.media_details.height},(0,i.createElement)("img",{src:e.media.source_url})))}))),e.value&&(0,i.createElement)(c.PanelRow,null,(0,i.createElement)(u.MediaUploadCheck,null,(0,i.createElement)(u.MediaUpload,{title:(0,a.__)("Replace image","bigup-cpt-service"),value:e.value,onSelect:t=>e.updateValue(t.id),allowedTypes:["image"],render:({open:e})=>(0,i.createElement)(c.Button,{onClick:e,variant:"secondary",isLarge:!0},(0,a.__)("Replace icon","bigup-cpt-service"))})),(0,i.createElement)(u.MediaUploadCheck,null,(0,i.createElement)(c.Button,{onClick:()=>e.updateValue(0),variant:"secondary",isLarge:!0},(0,a.__)("Remove icon","bigup-cpt-service")))))))))},y=(0,s.withSelect)((e=>({metaFields:e("core/editor").getEditedPostAttribute("meta"),postType:e("core/editor").getCurrentPostType()}))),v=(0,s.withDispatch)((e=>({setMetaFields(t){e("core/editor").editPost({meta:t})}}))),h=(0,l.compose)([y,v])(b);b.propTypes={postType:o().string,metaFields:o().object,setMetaFields:o().func}},703:(e,t,r)=>{"use strict";var i=r(414);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,n,o){if(o!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return r.PropTypes=r,r}},697:(e,t,r)=>{e.exports=r(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},196:e=>{"use strict";e.exports=window.React},175:e=>{"use strict";e.exports=window.wp.blockEditor},609:e=>{"use strict";e.exports=window.wp.components},333:e=>{"use strict";e.exports=window.wp.compose},818:e=>{"use strict";e.exports=window.wp.data},67:e=>{"use strict";e.exports=window.wp.editPost},736:e=>{"use strict";e.exports=window.wp.i18n},817:e=>{"use strict";e.exports=window.wp.plugins},767:e=>{"use strict";e.exports=JSON.parse('{"key":"service","prefix":"_bigup_","customFields":[{"block_name":"bigupweb/service-price","suffix":"_price","label":"Price","description":"The cost of this service","type":"number","input_type":"number","placeholder":"Add a price","required":"","number_min":0,"number_max":"","number_step":0.01,"show_in_rest":"true","single":"true","user_capabilities":"edit_posts"},{"block_name":"bigupweb/service-icon","suffix":"_icon","label":"Icon","description":"A service icon","type":"integer","input_type":"image-upload","placeholder":"Add an icon","required":"","show_in_rest":"true","single":"true","user_capabilities":"edit_posts"}]}')}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(817),t=r(980);(0,e.registerPlugin)("bigup-cpt-service-metabox",{render:t.Z})})()})();
//# sourceMappingURL=bigup-cpt-service-gutenberg.js.map